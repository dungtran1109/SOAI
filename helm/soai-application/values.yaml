global:
  otel:
    enabled: true
    # OTEL Collector endpoint - adjust based on deployment
    # Same namespace: otel-collector:4317
    # Different namespace: otel-collector.<namespace>.svc.cluster.local:4317
    endpoint: "otel-collector:4317"
  clickHouse:
    enabled: true
  grafana:
    enabled: true
  prometheus:
    enabled: true
# security:
#   tls:
#     enabled: true
#     duration: 2160h
#     renewBefore: 360h
#   issuer:
#     name: ca-issuer
#     kind: Issuer
#     group: cert-manager.io
# registry:
#   url: anhdung12399
#   repoPath:
# timezone: UTC
# nodeSelector: {}
# annotations: {}
# labels: {}
# networkPolicy:
#   enabled:z
# topologySpreadConstraints:
# podSecurityContext:
#   supplementalGroups: []
# fsGroup:
#   # 'manual' to enforce a specific value (highest precedence)
#   manual:
#   # 'namespace' to use the value defined for the namespace set by cluster admin (second highest precedence)
#   namespace:

updateStrategy:
  type: RollingUpdate

server:
  secretsPath:
    certPath: /run/secrets/tls
    keyStorePath: /run/secrets/keystore
  mysqlServer:
    name: mysql-server
    replicaCount: 1
    port: "3306"
  redis:
    name: redis
    replicaCount: 1
    port: "6379"

  probes:
    readiness:
      initialDelaySeconds: 60
      periodSeconds: 60
      timeoutSeconds: 15
      successThreshold: 1
      failureThreshold: 5
    liveness:
      initialDelaySeconds: 60
      periodSeconds: 60
      timeoutSeconds: 15
      successThreshold: 1
      failureThreshold: 5

  #serviceAccountName: ""
  authentication:
    name: authentication
    replicaCount: 1
    serviceType: ClusterIP
    httpPort: "9090"
    httpsPort: "9443"
    httpNodePort: "30903"
    httpsNodePort: "30943"

  recruitment:
    name: recruitment
    replicaCount: 1
    logLevel: INFO
    serviceType: ClusterIP
    httpPort: "8003"
    httpsPort: "8433"
    httpNodePort: "30803"
    httpsNodePort: "30833"
    worker:
      name: recruitment-worker

  genai:
    name: genai
    replicaCount: 1
    logLevel: INFO
    serviceType: ClusterIP
    httpPort: "8004"
    httpsPort: "8434"
    httpNodePort: "30804"
    httpsNodePort: "30834"
  
  agentcontroller:
    name: agent-controller
    logLevel: DEBUG
    serviceType: ClusterIP
    httpPort: "8005"
    httpsPort: "8445"
    httpNodePort: "30805"
    httpsNodePort: "30845"

  knowledgebase:
    name: knowledge-base
    replicaCount: 1
    logLevel: INFO
    serviceType: ClusterIP
    httpPort: "8006"
    httpsPort: "8446"
    httpNodePort: "30806"
    httpsNodePort: "30846"

  qdrant:
    name: qdrant
    replicaCount: 1
    serviceType: ClusterIP
    httpPort: "6333"
    grpcPort: "6334"
    httpNodePort: "30633"
    grpcNodePort: "30634"

  web:
    name: web
    replicaCount: 1
    serviceType: LoadBalancer
    httpPort: "8080"
    httpsPort: "8443"
    httpNodePort: "30800"
    httpsNodePort: "30844"

resources:
  initcontainer:
    limits:
      cpu: "1"
      memory: "200Mi"
    requests:
      cpu: "50m"
      memory: "50Mi"
  mysql:
    limits:
      cpu: "2"
      memory: "2048Mi"
    requests:
      cpu: "500m"
      memory: "512Mi"
  redis:
    limits:
      cpu: "500m"
      memory: "512Mi"
    requests:
      cpu: "100m"
      memory: "128Mi"
  authentication:
    limits:
      cpu: "2"
      memory: "2048Mi"
    requests:
      cpu: "200m"
      memory: "256Mi"
  recruitment:
    limits:
      cpu: "2"
      memory: "4096Mi"
    requests:
      cpu: "200m"
      memory: "256Mi"
  recruitmentWorker:
    limits:
      cpu: "1"
      memory: "2048Mi"
    requests:
      cpu: "200m"
      memory: "256Mi"
  genai:
    limits:
      cpu: "1"
      memory: "2048Mi"
    requests:
      cpu: "200m"
      memory: "256Mi"
  agentcontroller:
    limits:
      cpu: "500m"
      memory: "1024Mi"
    requests:
      cpu: "100m"
      memory: "256Mi"
  knowledgebase:
    limits:
      cpu: "1"
      memory: "2048Mi"
    requests:
      cpu: "200m"
      memory: "256Mi"
  qdrant:
    limits:
      cpu: "1"
      memory: "2048Mi"
    requests:
      cpu: "200m"
      memory: "512Mi"
  web:
    limits:
      cpu: "200m"
      memory: "128Mi"
    requests:
      cpu: "100m"
      memory: "64Mi"
annotations: {}

seccompProfile:
  type:
  # initcontainer:
  #   type:
  #   localhostProfile:
  # mysql:
  #   type:
  #   localhostProfile:
  # authentication:
  #   type:
  #   localhostProfile:
  # recruitment:
  #   type:
  #   localhostProfile:
  # agent-controller:
  #   type:
  #   localhostProfile:
  # genai:
  #   type:
  #   localhostProfile:
  # web:
  #   type:
  #   localhostProfile:
  # consul:
  #   type:
  #   localhostProfile:
imageCredentials:
  pullPolicy: Always
# pullSecret:

appArmorProfile:
  type: ""
  localhostProfile:
  authentication:
    type: ""
    localhostProfile:
  recruitment:
    type: ""
    localhostProfile:
  agent-controller:
    type: ""
    localhostProfile:
  genai:
    type: ""
    localhostProfile:
  knowledge-base:
    type: ""
    localhostProfile:
  qdrant:
    type: ""
    localhostProfile:
  web:
    type: ""
    localhostProfile:

storage:
  # Storage enabled => PV and PVC will be used
  enabled: true
  reclaimPolicy: Retain
  # Storage enabled & PV disabled => only PVC used
  # Storage enabled & PV enabled => Both PV and PVC are used
  persistentVolume:
    enabled: false
    hostPath:
      recruitment: /mnt/soai/data-recruitment
      mysql: /mnt/soai/data-mysql
    storageCapacity:
      mysql: 2Gi
      recruitment: 8Gi
      qdrant: 5Gi
  # StoageClass is enabled => PVC will use StorageClass
  # StorageClass is disabled => PVC will use default StorageClass
  storageClass:
    enabled: false
    name: local-storage
    provisioner: kubernetes.io/no-provisioner

password:
  dbUser: "soai_user"
  dbPass: "soai_password"
  keystorePass: "soai_keystore_password"

openai:
  apiKey: ""

rag:
  enabled: true
  ungroundedContinuation: false
  topK: 5
  embeddingModel: "text-embedding-3-large"
  qdrantCollection: "cv_embeddings"

issuer:
  ipAddress: []